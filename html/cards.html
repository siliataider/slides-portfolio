<div id="search-container">
<input type="text" id="search-input" placeholder="Search by keyword (e.g., Python, ML, I/O)" onkeyup="filterProjects()">
</div>

<div id="filter-bar">
<select id="filter-area" onchange="filterProjects()">
    <option value="">All Areas</option>
    <option value="Statistical">Statistical interpretation</option>
    <option value="Python">Python Interface</option>
    <option value="Documentation">Documentation and outreach</option>
    <option value="Compiler">Compiler technology</option>
    <option value="Automation">Automation</option>
    <option value="Machine">Machine Learning and Artificial Intelligence</option>
    <option value="Teaching">Teaching</option>
    <option value="build">Continuous integration and build system</option>
    <option value="platforms">RNew platforms</option>
    <option value="reflection">Type system and reflection</option>
    <option value="Data">Data analysis</option>
    <option value="Distributed">Distributed systems</option>
    <option value="Visualisation">Visualisation and graphics</option>
</select>

<select id="filter-skill" onchange="filterProjects()">
    <option value="">All Skills</option>
    <option value="C++">C++</option>
    <option value="Python">Python</option>
    <option value="ML">Machine Learning</option>
    <option value="C++">ROOT</option>
</select>

<select id="filter-duration" onchange="filterProjects()">
    <option value="">All Durations</option>
    <option value="short">≤ 6 months</option>
    <option value="medium">6–12 months</option>
    <option value="long">> 12 months</option>
</select>
</div>


<main class="project-section">
<!-- ================================== -->

<section class="root-area">
<h2 class="area-title">RNTuple & I/O</h2>
<div class="project-grid">

<div class="project-card">
<h3>S3 Backend for RNTuple</h3>
<div class="skills">
<span class="skill-badge">C++</span>
<span class="skill-badge">HTTP</span>
</div>
<p class="duration">6-12 months</p>
<p class="responsible" style="display:none;">Jakob Blomer</p>
<p class="target" style="display:none;">Master Thesis / Tech / ATLAS Quali Task (perhaps related to ATLAS cloud R&D)</p>
<p class="areas" style="display:none;">RNTuple, I/O</p>
<p class="scope" style="display:none;">The RNTuple I/O provides the data format and basic storage stack for HL-LHC data. It has been designed to allow for exchangeable storage backends, including file system access, XRootD access, and object stores. Proof-of-concept implementations for DAOS and S3 object stores exist but have not been further pursued. The goal of this project is to develop a robust (pre-release quality) implementation for storing RNTuple data in S3, the standard cloud storage protocol. In particular, the project needs to design and implement a URL scheme to address RNTuple objects and an efficient HTTP base layer to access objects and byte ranges. The project should include benchmarks comparing S3 to XRootD and remote file system access in the same data center (e.g., using the AGC benchmark), and a benchmark measuring the effect of network latency to end-to-end performance</p>

</div>

<div class="project-card">
<h3>Graceful crash recovery of RNTuple write streams</h3>
<div class="skills">
<span class="skill-badge">C++</span>
</div>
<p class="duration">12 months</p>
<p class="duration">6-12 months</p>
<p class="responsible" style="display:none;">Jakob Blomer</p>
<p class="target" style="display:none;">Master Thesis / Tech</p>
<p class="areas" style="display:none;">RNTuple, I/O</p>
<p class="scope" style="display:none;">The RNTuple I/O provides the data format and basic storage stack for HL-LHC data. Its current use include analysis and reconstruction workflows, with some early prototyping of data acquisition use cases. For data acquisition in particular, where failing jobs cannot simply be restarted, the capability to recover written data after an unexpected termination of the writer process is critical. The RNTuple design allows for that feature provided that a snapshot of the meta-data (the on-disk location of pages) is regularly flushed to disk (not only at the end). The project should design and implement a mechanism to automatically flush a consistent state of the meta-data during writing at a location that can be located after a crash (e.g., a well-known byte offset such as every 100MB). An extensive test suite should be developed alongside the feature.</p>

</div>

<div class="project-card">
<h3>Abstract Object Access in ROOT Schema Evolution</h3>
<div class="skills">
<span class="skill-badge">C++</span>
</div>
<p class="duration">18-24 months</p>
<p class="responsible" style="display:none;">Jakob Blomer</p>
<p class="target" style="display:none;">Grad</p>
<p class="areas" style="display:none;">RNTuple, I/O</p>
<p class="scope" style="display:none;">The ROOT schema evolution system enables users to define I/O customization rules that map on-disk types to their evolved versions in-memory. A limitation of the current approach is the fact that the on-disk information (e.g., class members) need to be accessed in the form of existing C++ types. Effectively, that may require users of complex event data models to preserve the history of the class layouts. This project aims at developing an extension to the ROOT schema evolution that allows access to on-disk classes in an abstract way, as a combination of PoDs, abstract records and abstract collections. As a result, certain schema evolution cases related to the change of class shapes (e.g., moving data members in the class hierarchy) should be greatly simplified.</p>

</div>
</div>
</section>

<!-- ================================== -->

<section class="root-area">
<h2 class="area-title">Python Interface</h2>
<div class="project-grid">
<div class="project-card">
<h3>Project Title 1</h3>
<div class="skills">
<span class="skill-badge">Python</span>
<span class="skill-badge">ML</span>
</div>
<p class="duration">6 months</p>
</div>

<div class="project-card">
<h3>Project Title 2</h3>
<div class="skills">
<span class="skill-badge">Python</span>
<span class="skill-badge">C++</span>
</div>
<p class="duration">18-24 months</p>
</div>
</div>
</section>

<!-- ================================== -->

<section class="root-area">
<h2 class="area-title">Infrastructure & Build System</h2>
<div class="project-grid">
<div class="project-card">
<h3>Project Title 3</h3>
<div class="skills">
<span class="skill-badge">CMake</span>
<span class="skill-badge">git</span>
</div>
<p class="duration">18-24 months</p>
</div>

<div class="project-card">
<h3>Project Title 4</h3>
<div class="skills">
<span class="skill-badge">Jenkins</span>
<span class="skill-badge">Python</span>
</div>
<p class="duration">6 months</p>
</div>
</div>
</section>

<!-- ================================== -->

<section id="contact" class="contact-section">
<h2>Contribute a Project Idea</h2>
<p>If you have an idea for a ROOT project, submit it here!</p>

<form id="contact-form" action="I_will_fill_it_at_some_point" method="POST">
    <label for="name">Name</label>
    <input type="text" id="name" name="name" required placeholder="Your name">

    <label for="email">Email</label>
    <input type="email" id="email" name="_replyto" required placeholder="Danilo.Piparo@cern.ch">

    <label for="project">Project Idea</label>
    <textarea id="project" name="project" rows="5" required placeholder="Describe your project"></textarea>

    <button type="submit">Submit</button>
</form>
</section>


<!-- ================================== -->

<div id="project-modal" class="modal">
<div class="modal-content">
<span class="close">&times;</span>
<h3 id="modal-title"></h3>
<div id="modal-skills"></div>
<p class="duration" id="modal-duration"></p>
<p id="modal-responsible"></p>
<p id="modal-target"></p>
<p id="modal-areas"></p>
<p id="modal-scope"></p>
</div>
</div>

</main>

<script>
function filterProjects() {
    const keyword = document.getElementById("search-input")?.value.toLowerCase() || "";
    const areaFilter = document.getElementById("filter-area")?.value.toLowerCase() || "";
    const skillFilter = document.getElementById("filter-skill")?.value.toLowerCase() || "";
    const durationFilter = document.getElementById("filter-duration")?.value || "";

    const cards = document.querySelectorAll(".project-card");

    cards.forEach(card => {
        const title = card.querySelector("h3")?.textContent.toLowerCase() || "";
        const skills = Array.from(card.querySelectorAll(".skill-badge"))
                            .map(b => b.textContent.toLowerCase());
        const duration = card.querySelector(".duration")?.textContent.toLowerCase() || "";
        const areaSection = card.closest(".root-area")?.querySelector("h2")?.textContent.toLowerCase() || "";

        let visible = true;

        if (keyword && !title.includes(keyword) &&
            !skills.some(s => s.includes(keyword))) visible = false;
        if (areaFilter && !areaSection.includes(areaFilter)) visible = false;
        if (skillFilter && !skills.includes(skillFilter)) visible = false;

        if (durationFilter) {
            if (durationFilter === "short" && !duration.includes("3–6")) visible = false;
            if (durationFilter === "medium" && !duration.includes("6–12")) visible = false;
            if (durationFilter === "long" && !duration.match(/12|18|24/)) visible = false;
        }

        card.style.display = visible ? "block" : "none";
    });
}

document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll('.project-card').forEach(card => {
        card.addEventListener('click', () => {
            card.classList.toggle('flipped');
        });
    });
});


document.addEventListener("DOMContentLoaded", () => {

const modal = document.getElementById("project-modal");
const modalTitle = document.getElementById("modal-title");
const modalSkills = document.getElementById("modal-skills");
const modalDuration = document.getElementById("modal-duration");
const modalResponsible = document.getElementById("modal-responsible");
const modalTarget = document.getElementById("modal-target");
const modalAreas = document.getElementById("modal-areas");
const modalScope = document.getElementById("modal-scope");
const closeBtn = document.querySelector(".modal .close");

document.querySelectorAll(".project-card").forEach(card => {
  card.addEventListener("click", () => {
    modalTitle.textContent = card.querySelector("h3")?.textContent || "";
    modalSkills.innerHTML = card.querySelector(".skills")?.innerHTML || "";
    modalDuration.textContent = card.querySelector(".duration").textContent;
    modalResponsible.textContent = "Responsible: " + (card.querySelector(".responsible")?.textContent || "");
    modalTarget.textContent = "Target: " + (card.querySelector(".target")?.textContent || "");
    modalAreas.textContent = "ROOT Areas: " + (card.querySelector(".areas")?.textContent || "");
    modalScope.textContent = "Scope: " + (card.querySelector(".scope")?.textContent || "");

    modal.style.display = "block";
  });
});

closeBtn.onclick = () => modal.style.display = "none";
window.onclick = e => { if (e.target == modal) modal.style.display = "none"; }

});
</script>


<footer>
    <img src="assets/images/root_logo_cyan.png" alt="ROOT Logo" style="height: 30px;">
    <img src="assets/images/ep_sft_logo_bleu.png" alt="EP-SFT Logo" style="height: 150px;">
    <span>ROOT Open Projects | 2025</span>
</footer>